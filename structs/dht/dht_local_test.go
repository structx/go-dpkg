package dht

import (
	"testing"

	"github.com/stretchr/testify/assert"
)

func Test_HashKey(t *testing.T) {
	t.Run("default", func(t *testing.T) {
		assert := assert.New(t)

		key := []byte("bob")
		h := hashKey(key)
		assert.NotNil(h)
	})
}

func Test_CompareDistances(t *testing.T) {
	t.Run("default", func(t *testing.T) {

		assert := assert.New(t)

		a := [28]byte{
			0xFF, 0xFF, 0xFF, 0xFF,
			0xFF, 0xFF, 0xFF, 0xFF,
			0xFF, 0xFF, 0xFF, 0xFF,
			0xFF, 0xFF, 0xFF, 0xFF,
			0xFF, 0xFF, 0xFF, 0xFF,
			0xFF, 0xFF, 0xFF, 0xFF,
			0xFF, 0xFF, 0xFF, 0xFF,
		}

		b := [28]byte{
			0xFF, 0xFF, 0xFF, 0xFF,
			0xFF, 0xFF, 0xFF, 0xFF,
			0xFF, 0xFF, 0xFF, 0xFF,
			0xFF, 0xFF, 0xFF, 0xFF,
			0xFF, 0xFF, 0xFF, 0xFF,
			0xFF, 0xFF, 0xFF, 0xFF,
			0xFF, 0xFF, 0xFF, 0xFF,
		}

		distance := compareDistances(a, b)
		assert.Equal(0, distance)
	})
}
